export interface EclipsePathPoint {
  time: string // UTC
  centralLat: number
  centralLng: number
  northLat: number | null
  northLng: number | null
  southLat: number
  southLng: number
  pathWidth: number // km
  duration: string
}

export interface CityEclipseData {
  name: string
  lat: number
  lng: number
  inicio: string // Hora local
  inicioTotalidad: string
  maximo: string
  finTotalidad: string
  fin: string
  duracionTotalidad: string
  magnitud: number
  alturaSol: number // grados sobre horizonte
  inTotality: boolean
}

export interface EclipseInfo {
  date: string
  dayOfWeek: string
  type: string
  sarosNumber: number
  gamma: number
  maxDuration: string
  maxDurationLocation: string
  maxWidth: string
  spainEntryTime: string
  spainEntryLocation: string
  spainExitTime: string
  spainExitLocation: string
  sunAltitudeRange: string
  nextTotalInSpain: string
}

export interface EclipseData {
  id: string
  name: string
  pathData: EclipsePathPoint[]
  centralLine: [number, number][]
  northLimit: [number, number][]
  southLimit: [number, number][]
  cities: CityEclipseData[]
  info: EclipseInfo
}

const eclipse2026: EclipseData = {
  id: "2026",
  name: "Eclipse 2026",
  pathData: [
    {
      time: "18:20",
      centralLat: 48.212,
      centralLng: -13.048,
      northLat: 48.208,
      northLng: -10.267,
      southLat: 48.147,
      southLng: -15.639,
      pathWidth: 319,
      duration: "2m01s",
    },
    {
      time: "18:22",
      centralLat: 47.102,
      centralLng: -11.715,
      northLat: 47.038,
      northLng: -8.802,
      southLat: 47.083,
      southLng: -14.397,
      pathWidth: 318,
      duration: "1m59s",
    },
    {
      time: "18:24",
      centralLat: 45.943,
      centralLng: -10.19,
      northLat: 45.802,
      northLng: -7.077,
      southLat: 45.983,
      southLng: -13.008,
      pathWidth: 315,
      duration: "1m56s",
    },
    {
      time: "18:26",
      centralLat: 44.713,
      centralLng: -8.398,
      northLat: 44.457,
      northLng: -4.949,
      southLat: 44.832,
      southLng: -11.42,
      pathWidth: 311,
      duration: "1m53s",
    },
    {
      time: "18:28",
      centralLat: 43.372,
      centralLng: -6.189,
      northLat: 42.908,
      northLng: -2.085,
      southLat: 43.607,
      southLng: -9.552,
      pathWidth: 304,
      duration: "1m49s",
    },
    {
      time: "18:30",
      centralLat: 41.817,
      centralLng: -3.185,
      northLat: 40.665,
      northLng: 3.295,
      southLat: 42.263,
      southLng: -7.237,
      pathWidth: 294,
      duration: "1m45s",
    },
    {
      time: "18:32",
      centralLat: 39.408,
      centralLng: 2.95,
      northLat: null,
      northLng: null,
      southLat: 40.683,
      southLng: -4.04,
      pathWidth: 270,
      duration: "1m36s",
    },
  ],
  centralLine: [
    [-13.048, 48.212],
    [-11.715, 47.102],
    [-10.19, 45.943],
    [-8.398, 44.713],
    [-6.189, 43.372],
    [-3.185, 41.817],
    [2.95, 39.408],
    [5.407, 38.68],
  ],
  northLimit: [
    [-10.267, 48.208],
    [-8.802, 47.038],
    [-7.077, 45.802],
    [-4.949, 44.457],
    [-2.085, 42.908],
    [3.295, 40.665],
  ],
  southLimit: [
    [-15.639, 48.147],
    [-14.397, 47.083],
    [-13.008, 45.983],
    [-11.42, 44.832],
    [-9.552, 43.607],
    [-7.237, 42.263],
    [-4.04, 40.683],
    [4.54, 37.69],
    [6.34, 38.408],
  ],
  cities: [
    {
      name: "A Coruña",
      lat: 43.3623,
      lng: -8.4115,
      inicio: "19:31",
      inicioTotalidad: "20:27",
      maximo: "20:28",
      finTotalidad: "20:28",
      fin: "21:22",
      duracionTotalidad: "1m 16s",
      magnitud: 1.024,
      alturaSol: 12,
      inTotality: true,
    },
    {
      name: "Santiago de Compostela",
      lat: 42.8782,
      lng: -8.5448,
      inicio: "19:31",
      inicioTotalidad: "20:27",
      maximo: "20:28",
      finTotalidad: "20:29",
      fin: "21:22",
      duracionTotalidad: "1m 41s",
      magnitud: 1.028,
      alturaSol: 11,
      inTotality: true,
    },
    {
      name: "Oviedo",
      lat: 43.3614,
      lng: -5.8493,
      inicio: "19:32",
      inicioTotalidad: "20:28",
      maximo: "20:29",
      finTotalidad: "20:30",
      fin: "21:22",
      duracionTotalidad: "1m 44s",
      magnitud: 1.029,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "León",
      lat: 42.5987,
      lng: -5.5671,
      inicio: "19:32",
      inicioTotalidad: "20:28",
      maximo: "20:29",
      finTotalidad: "20:30",
      fin: "21:21",
      duracionTotalidad: "1m 44s",
      magnitud: 1.029,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "Bilbao",
      lat: 43.263,
      lng: -2.935,
      inicio: "19:33",
      inicioTotalidad: "20:29",
      maximo: "20:30",
      finTotalidad: "20:31",
      fin: "21:22",
      duracionTotalidad: "1m 47s",
      magnitud: 1.03,
      alturaSol: 6,
      inTotality: true,
    },
    {
      name: "San Sebastián",
      lat: 43.3183,
      lng: -1.9812,
      inicio: "19:34",
      inicioTotalidad: "20:30",
      maximo: "20:30",
      finTotalidad: "20:31",
      fin: "21:22",
      duracionTotalidad: "1m 32s",
      magnitud: 1.026,
      alturaSol: 5,
      inTotality: true,
    },
    {
      name: "Burgos",
      lat: 42.344,
      lng: -3.6969,
      inicio: "19:33",
      inicioTotalidad: "20:29",
      maximo: "20:29",
      finTotalidad: "20:31",
      fin: "21:20",
      duracionTotalidad: "1m 44s",
      magnitud: 1.029,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "Logroño",
      lat: 42.4627,
      lng: -2.4449,
      inicio: "19:34",
      inicioTotalidad: "20:29",
      maximo: "20:30",
      finTotalidad: "20:31",
      fin: "21:20",
      duracionTotalidad: "1m 22s",
      magnitud: 1.023,
      alturaSol: 6,
      inTotality: true,
    },
    {
      name: "Zaragoza",
      lat: 41.6488,
      lng: -0.8891,
      inicio: "19:35",
      inicioTotalidad: "20:30",
      maximo: "20:31",
      finTotalidad: "20:31",
      fin: "21:20",
      duracionTotalidad: "1m 06s",
      magnitud: 1.018,
      alturaSol: 4,
      inTotality: true,
    },
    {
      name: "Valencia",
      lat: 39.4699,
      lng: -0.3763,
      inicio: "19:36",
      inicioTotalidad: "20:31",
      maximo: "20:32",
      finTotalidad: "20:32",
      fin: "21:19",
      duracionTotalidad: "0m 28s",
      magnitud: 1.006,
      alturaSol: 2,
      inTotality: true,
    },
    {
      name: "Palma de Mallorca",
      lat: 39.5696,
      lng: 2.6502,
      inicio: "19:38",
      inicioTotalidad: "20:31",
      maximo: "20:32",
      finTotalidad: "20:32",
      fin: "21:19",
      duracionTotalidad: "1m 36s",
      magnitud: 1.004,
      alturaSol: 2,
      inTotality: true,
    },
    {
      name: "Mahón (Menorca)",
      lat: 39.8897,
      lng: 4.2665,
      inicio: "19:39",
      inicioTotalidad: "20:33",
      maximo: "20:33",
      finTotalidad: "20:34",
      fin: "21:18",
      duracionTotalidad: "0m 55s",
      magnitud: 1.014,
      alturaSol: 1,
      inTotality: true,
    },
    {
      name: "Madrid",
      lat: 40.4168,
      lng: -3.7038,
      inicio: "19:34",
      inicioTotalidad: "-",
      maximo: "20:30",
      finTotalidad: "-",
      fin: "21:18",
      duracionTotalidad: "-",
      magnitud: 0.956,
      alturaSol: 5,
      inTotality: false,
    },
    {
      name: "Barcelona",
      lat: 41.3851,
      lng: 2.1734,
      inicio: "19:37",
      inicioTotalidad: "-",
      maximo: "20:32",
      finTotalidad: "-",
      fin: "21:18",
      duracionTotalidad: "-",
      magnitud: 0.982,
      alturaSol: 2,
      inTotality: false,
    },
    {
      name: "Sevilla",
      lat: 37.3891,
      lng: -5.9845,
      inicio: "19:32",
      inicioTotalidad: "-",
      maximo: "20:28",
      finTotalidad: "-",
      fin: "21:17",
      duracionTotalidad: "-",
      magnitud: 0.827,
      alturaSol: 9,
      inTotality: false,
    },
  ],
  info: {
    date: "12 de agosto de 2026",
    dayOfWeek: "Miércoles",
    type: "Eclipse Solar Total",
    sarosNumber: 126,
    gamma: 0.8978,
    maxDuration: "2m 18s",
    maxDurationLocation: "Islandia (65°13.5'N, 25°13.7'W)",
    maxWidth: "294 km",
    spainEntryTime: "20:26 CEST",
    spainEntryLocation: "Costa de Galicia",
    spainExitTime: "20:34 CEST",
    spainExitLocation: "Menorca",
    sunAltitudeRange: "1° - 12°",
    nextTotalInSpain: "2 de agosto de 2027",
  },
}

const eclipse2027: EclipseData = {
  id: "2027",
  name: "Eclipse 2027",
  pathData: [], // Simplified for this version
  centralLine: [
    [-6.9, 35.8],
    [-5.6, 35.95], // Strait
    [-5.3, 36.0],
    [-4.5, 36.1],
    [-2.5, 36.3], // Alboran Sea
    [-1.0, 36.5],
  ],
  northLimit: [
    [-6.5, 36.6], // Cadiz
    [-5.5, 36.8], // Near Marbella
    [-4.4, 37.0], // Malaga
    [-2.5, 37.2],
  ],
  southLimit: [
    [-6.0, 35.0],
    [-5.0, 35.1],
    [-3.0, 35.2], // Melilla
  ],
  cities: [
    {
      name: "Cádiz",
      lat: 36.5271,
      lng: -6.2886,
      inicio: "09:40",
      inicioTotalidad: "10:45",
      maximo: "10:46",
      finTotalidad: "10:48",
      fin: "11:59",
      duracionTotalidad: "2m 53s",
      magnitud: 1.007,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Málaga",
      lat: 36.7213,
      lng: -4.4214,
      inicio: "09:42",
      inicioTotalidad: "10:48",
      maximo: "10:49",
      finTotalidad: "10:50",
      fin: "12:02",
      duracionTotalidad: "1m 57s",
      magnitud: 1.003,
      alturaSol: 42,
      inTotality: true,
    },
    {
      name: "Tarifa",
      lat: 36.0143,
      lng: -5.6046,
      inicio: "09:40",
      inicioTotalidad: "10:45",
      maximo: "10:47",
      finTotalidad: "10:49",
      fin: "12:00",
      duracionTotalidad: "4m 38s",
      magnitud: 1.02,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Ceuta",
      lat: 35.8894,
      lng: -5.3213,
      inicio: "09:41",
      inicioTotalidad: "10:45",
      maximo: "10:47",
      finTotalidad: "10:50",
      fin: "12:01",
      duracionTotalidad: "4m 49s",
      magnitud: 1.03,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Melilla",
      lat: 35.2923,
      lng: -2.9381,
      inicio: "09:42",
      inicioTotalidad: "10:48",
      maximo: "10:50",
      finTotalidad: "10:52",
      fin: "12:05",
      duracionTotalidad: "4m 34s",
      magnitud: 1.02,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Marbella",
      lat: 36.5101,
      lng: -4.8824,
      inicio: "09:41",
      inicioTotalidad: "10:46",
      maximo: "10:48",
      finTotalidad: "10:50",
      fin: "12:02",
      duracionTotalidad: "3m 21s",
      magnitud: 1.01,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Algeciras",
      lat: 36.1408,
      lng: -5.4562,
      inicio: "09:40",
      inicioTotalidad: "10:45",
      maximo: "10:47",
      finTotalidad: "10:49",
      fin: "12:00",
      duracionTotalidad: "4m 26s",
      magnitud: 1.02,
      alturaSol: 41,
      inTotality: true,
    },
    {
      name: "Madrid",
      lat: 40.4168,
      lng: -3.7038,
      inicio: "09:30",
      inicioTotalidad: "-",
      maximo: "10:45",
      finTotalidad: "-",
      fin: "12:00",
      duracionTotalidad: "-",
      magnitud: 0.95,
      alturaSol: 45,
      inTotality: false,
    },
  ],
  info: {
    date: "2 de agosto de 2027",
    dayOfWeek: "Lunes",
    type: "Eclipse Solar Total",
    sarosNumber: 136,
    gamma: 0.1421,
    maxDuration: "6m 23s",
    maxDurationLocation: "Egipto",
    maxWidth: "258 km",
    spainEntryTime: "10:45 CEST",
    spainEntryLocation: "Estrecho de Gibraltar",
    spainExitTime: "10:52 CEST",
    spainExitLocation: "Melilla",
    sunAltitudeRange: "40° - 42°",
    nextTotalInSpain: "No hay más totales cercanos, siguiente anular en 2028",
  },
}

const eclipse2028: EclipseData = {
  id: "2028",
  name: "Eclipse 2028",
  pathData: [],
  centralLine: [
    [-7.0, 37.2], // Huelva
    [-6.0, 37.4], // Seville
    [-4.8, 37.9], // Cordoba
    [-3.0, 38.5],
    [-0.4, 39.5], // Valencia
    [1.5, 40.2],
    [2.7, 40.8], // Near Palma/Barcelona
    [3.5, 41.2],
  ],
  northLimit: [
    [-7.0, 38.5],
    [-4.0, 39.5],
    [0.0, 40.8],
    [2.0, 41.5], // Barcelona
  ],
  southLimit: [
    [-7.0, 36.0], // Cadiz
    [-4.5, 36.5], // Malaga
    [-0.5, 38.0], // Alicante
    [3.0, 39.0], // Ibiza
  ],
  cities: [
    {
      name: "Huelva",
      lat: 37.2614,
      lng: -6.9447,
      inicio: "16:33",
      inicioTotalidad: "17:52",
      maximo: "17:55",
      finTotalidad: "17:59",
      fin: "18:45",
      duracionTotalidad: "7m 11s",
      magnitud: 0.92,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "Sevilla",
      lat: 37.3891,
      lng: -5.9845,
      inicio: "16:34",
      inicioTotalidad: "17:52",
      maximo: "17:56",
      finTotalidad: "17:59",
      fin: "18:41",
      duracionTotalidad: "7m 15s",
      magnitud: 0.92,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "Córdoba",
      lat: 37.8882,
      lng: -4.7794,
      inicio: "16:35",
      inicioTotalidad: "17:52",
      maximo: "17:56",
      finTotalidad: "17:59",
      fin: "18:35",
      duracionTotalidad: "7m 12s",
      magnitud: 0.92,
      alturaSol: 7,
      inTotality: true,
    },
    {
      name: "Málaga",
      lat: 36.7213,
      lng: -4.4214,
      inicio: "16:36",
      inicioTotalidad: "17:54",
      maximo: "17:56",
      finTotalidad: "17:59",
      fin: "18:36",
      duracionTotalidad: "4m 56s",
      magnitud: 0.92,
      alturaSol: 8,
      inTotality: true,
    },
    {
      name: "Valencia",
      lat: 39.4699,
      lng: -0.3763,
      inicio: "16:39",
      inicioTotalidad: "17:53",
      maximo: "17:57",
      finTotalidad: "18:00",
      fin: "18:13",
      duracionTotalidad: "7m 01s",
      magnitud: 0.92,
      alturaSol: 2,
      inTotality: true,
    },
    {
      name: "Alicante",
      lat: 38.3452,
      lng: -0.4810,
      inicio: "16:39",
      inicioTotalidad: "17:54",
      maximo: "17:57",
      finTotalidad: "17:59",
      fin: "18:16",
      duracionTotalidad: "5m 02s",
      magnitud: 0.92,
      alturaSol: 3,
      inTotality: true,
    },
    {
      name: "Barcelona",
      lat: 41.3851,
      lng: 2.1734,
      inicio: "16:40",
      inicioTotalidad: "17:53",
      maximo: "17:55",
      finTotalidad: "17:59",
      fin: "17:59",
      duracionTotalidad: "5m 45s",
      magnitud: 0.92,
      alturaSol: 0,
      inTotality: true,
    },
    {
      name: "Palma de Mallorca",
      lat: 39.5696,
      lng: 2.6502,
      inicio: "16:41",
      inicioTotalidad: "17:54",
      maximo: "17:57",
      finTotalidad: "18:00",
      fin: "18:01",
      duracionTotalidad: "5m 16s",
      magnitud: 0.92,
      alturaSol: 1,
      inTotality: true,
    },
    {
      name: "Ibiza",
      lat: 38.9067,
      lng: 1.4206,
      inicio: "16:40",
      inicioTotalidad: "17:55",
      maximo: "17:57",
      finTotalidad: "17:59",
      fin: "18:08",
      duracionTotalidad: "4m 24s",
      magnitud: 0.92,
      alturaSol: 1,
      inTotality: true,
    },
    {
      name: "Madrid",
      lat: 40.4168,
      lng: -3.7038,
      inicio: "16:30",
      inicioTotalidad: "-",
      maximo: "17:50",
      finTotalidad: "-",
      fin: "18:20",
      duracionTotalidad: "-",
      magnitud: 0.85,
      alturaSol: 5,
      inTotality: false,
    },
  ],
  info: {
    date: "26 de enero de 2028",
    dayOfWeek: "Miércoles",
    type: "Eclipse Solar Anular",
    sarosNumber: 141,
    gamma: 0.3901,
    maxDuration: "10m 27s",
    maxDurationLocation: "Atlántico",
    maxWidth: "323 km",
    spainEntryTime: "17:52 CEST",
    spainEntryLocation: "Huelva",
    spainExitTime: "18:00 CEST",
    spainExitLocation: "Barcelona",
    sunAltitudeRange: "0° - 8°",
    nextTotalInSpain: "No hay más eventos cercanos",
  },
}

export const eclipses: Record<string, EclipseData> = {
  "2026": eclipse2026,
  "2027": eclipse2027,
  "2028": eclipse2028,
}

export const defaultEclipse = eclipse2026

// Mantener exportaciones antiguas para compatibilidad mientras refactorizamos
export const eclipsePathData = eclipse2026.pathData
export const eclipseCentralLine = eclipse2026.centralLine
export const eclipseNorthLimit = eclipse2026.northLimit
export const eclipseSouthLimit = eclipse2026.southLimit
export const citiesData = eclipse2026.cities
export const eclipseInfo = eclipse2026.info
